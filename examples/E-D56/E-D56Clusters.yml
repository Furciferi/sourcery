# Sourcery config file
# YAML format - use null to return None in Python

# Apache on webserver needs absolute paths - if set, this will be prepended where necessary to all relative paths given here
#sourceryPath: "/home/mjh/actpol-sourcery/"

# Title shown on table pages
indexTitle: "ACTPol Galaxy Clusters in the E-D56 field"

# Location of cache dir - store all images, catalog matches etc. under here
# There's no real reason why this shouldn't be under public_html on the webserver
cacheDir: sourceryCache

# Location of skyview cache - this gets filled with .fits images, we will want to clean out eventually
skyviewCacheDir: skyviewCache

# Will need to think about column names, formats etc.
# Simplest to force some pre-processing, i.e., need name, RADeg, decDeg columns
# We will not allow catalog cuts on the source list, so for e.g., XCS should give extended source list only
catalogFileName: E-D56Clusters.fits
catalogComments: "<p>Classifications for objects and assigned redshifts can be edited from individual source pages.</p>"

# Contents of this file gets appended (one per line) as a bulleted list below catalogComments
#newsFileName: news.txt

# Quick links to common queries
quickLinks:
    - {label: "Clusters with DES imaging", constraints: "image_DES = 1"}
    #- {label: "all objects with redshifts", url: "https://www.acru.ukzn.ac.za/actpol-sourcery/updateQueryParams?queryRADeg=0%3A360&queryDecDeg=-90%3A90&querySearchBoxArcmin=&queryOtherConstraints=sourceList+%3D+MF-MultiScale-Hybrid-MJH+and+redshift+%3E+0&queryApply=Apply"}
    #- {label: "probable high-z (not confirmed; best objects)", url: "https://www.acru.ukzn.ac.za/actpol-sourcery/updateQueryParams?queryRADeg=0%3A360&queryDecDeg=-90%3A90&querySearchBoxArcmin=&queryOtherConstraints=sourceList+%3D+MF-MultiScale-Hybrid-MJH+and+notes+%3D+%27*high-z*%27+and+classification+%3D+probable+cluster&queryApply=Apply"}
    #- {label: "possible high-z (not confirmed; all objects)", url: "https://www.acru.ukzn.ac.za/actpol-sourcery/updateQueryParams?queryRADeg=0%3A360&queryDecDeg=-90%3A90&querySearchBoxArcmin=&queryOtherConstraints=sourceList+%3D+MF-MultiScale-Hybrid-MJH+and+notes+%3D+%27*high-z*%27+and+classification+%21%3D+cluster&queryApply=Apply"}

# This is just the base file name for catalogs we serve for download (AdvACT.fits, AdvACT.cat etc.)
catalogDownloadFileName: E-D56

# Which columns to display in table view? 
# These are in addition to name, RADeg, decDeg
nameColumn: "name"
tableDisplayColumns:
    - SNR: "%.1f"
    - z: "%.2f"
    - zType: "%s"
    - M500cUPP: "%.1f"

# Database options
# MongoDBName sets the name of the collection in MongoDB where everything is stored
# If enableEditing is True, the items in the fields list (see below) will be editable
# MongoDBCrossMatchRadiusArcmin sets the radius to use between matching the tags database (which has the user-editable fields) with the input catalog
# This allows the input catalog to be changed without losing the user-edited information
enableEditing: False
MongoDBName: "E-D56-sourcery"
MongoDBCrossMatchRadiusArcmin: 1.0

#classifications:
    #- "cluster"
    #- "probable cluster"
    #- "possible cluster"
    #- "not cluster"

#classificationDescription: "The following classification scheme is used: <ul><li>cluster (confirmed and with redshift)</li><li>probable cluster (looks like a cluster in the optical/IR imaging, redshift confirmation needed)</li><li>possible cluster (should be followed up, but not obviously a cluster based on the available optical/IR imaging)</li><li>not cluster (definitely not a cluster and can be discarded)</li></ul>"

objectTypeString: "clusters"

# List of user-editable fields (should not clash with column names in input catalog)
# Fields we can edit that are stored independently (in MongoDB) of the catalog and tagging
# type can be 'number' or 'text'
# displaySize is the size in characters of the text input fields on the web form
#fields:
    #- {name: notes, type: text, description: "Notes about the candidate (e.g., high-z)", displaySize: 25}

# A text file containing descriptions for each column (displayed on the "constrains help" page
# Format: delimited, one column per line, e.g.
# name:     name of candidate
# SNR2p4:   Signal-to-noise measured at 2.4' scale
descriptionsFileName: "E-D56Columns.txt"

# Cross matches with external databases
addNEDMatches: True
NEDCrossMatchRadiusArcmin: 2.5
addSDSSRedshifts: True

# Cross matches with local catalogs (e.g., .fits tables - anything astropy.table understands automatically)
# These must have name, RADeg, decDeg columns for positions and can optionally have a redshift column
# Each column in these catalogs will be added to the database as label_columnName
#crossMatchCatalogs:
    #- {label: "H13", fileName: "Hasselfield2013_upp.fits", crossMatchRadiusArcmin: 2.5}
    #- {label: "PSZ2", fileName: "HFI_PCCS_SZ-union_R2.08_sourcery.fits", crossMatchRadiusArcmin: 10.0}
    #- {label: "RM", fileName: "redmapper_dr8_public_v6.3_catalog_sourcery.fits", crossMatchRadiusArcmin: 2.5}
    #- {label: "MCXC", fileName: "MCXC_sourcery.fits", crossMatchRadiusArcmin: 2.5}
    #- {label: "CoMaLit", fileName: "CoMaLit-LC2-single_sourcery.fits", crossMatchRadiusArcmin: 2.5}
    
# Source page options
# plotSizeArcmin is the largest possible plot size
# plotDisplayWidthPix sets the size of the image as shown on the webpage
plotSizeArcmin: 8.0
plotDisplayWidthPix: 600
figSize: [8.25, 7.5]

# Images to fetch/make
addSDSSImage: True
addDESImage: True
addKiDSImage: False
addUnWISEImage: True
addPS1Image: True
addPS1IRImage: True

# These are the directories where all of the DES/KiDS tile preview images (.jpg, converted from the original .tiff) are cached
# Needed if addDESImage or addKiDSImage is True
DESTilesCacheDir: "DESTilesCache"
#KiDSTilesCacheDir: "../KiDS_gri_JPEGs"

# Image preferences... order to show by default
# if image_<type> = 1 it is shown, if it isn't, we will look for the next
imagePrefs: ['DES', 'KiDS', 'SDSS', 'unWISE', 'PS1']

# Own image sources - for now, monochrome only (i.e., no making RGB images)
# These directories contain .fits images, from which we will pull out cut outs of size plotSizeArcmin
# NOTE: for now, no spaces please in imageDirsLabels
# sizePix sets size of image of scale plotSizeArcmin
# minMaxRadiusArmin sets radius wrt source position within which min, max for image intensity scale is set
# matchKey selects the matching image from part of the image file name matching the key given
imageDirs:
    - {label: "ACT-SNR", path: "ACTMap", colorMap: "gray", sizePix: 1024, minMaxRadiusArcmin: 2.0, scaling: "auto", matchKey: null}

# Contour image - only allow one image to be overlaid over all others
# Match a label from imageDirs
# Will be able to set contour1Sigma to "measureFromImage" instead of dialling in by hand
# contourSigmaLevels sets the levels used in multiples of sigma
contourImage: 'ACT-SNR'
contourSmoothingArcsec: 15.0
contour1Sigma: 1.0
contourSigmaLevels: [3.0, 3.5, 4.0, 4.5, 5.0, 6.0, 7.0, 9.0, 12.0, 15.0]
contourColour: 'yellow'
contourWidth: 1

# This goes in the footer on all pages
hostedBy: "ACTPol E-D56 cluster catalog example"
